<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ocean Science Study App</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Fira+Code&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --ocean-deep: #0a2463;
            --ocean-mid: #247ba0;
            --ocean-light: #1e96fc;
            --wave-foam: #e8f1f5;
            --sand: #f4e9cd;
            --coral: #ff6b9d;
            --success: #06d6a0;
            --warning: #f77f00;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--ocean-deep) 0%, var(--ocean-mid) 50%, var(--ocean-light) 100%);
            min-height: 100vh;
            color: white;
            padding: 20px;
        }
        
        .app-container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeIn 0.6s ease-in;
        }
        
        .header h1 {
            font-size: 3em;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .nav-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .nav-btn {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 20px;
            border-radius: 15px;
            color: white;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }
        
        .nav-btn.active {
            background: var(--coral);
            border-color: var(--coral);
        }
        
        .content-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            min-height: 400px;
            animation: slideIn 0.5s ease-out;
        }
        
        .flashcard {
            background: white;
            color: var(--ocean-deep);
            border-radius: 15px;
            padding: 40px;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            cursor: pointer;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            position: relative;
        }
        
        .flashcard.flipped {
            transform: rotateY(180deg);
        }
        
        .flashcard-front, .flashcard-back {
            backface-visibility: hidden;
            width: 100%;
        }
        
        .flashcard-back {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            transform: rotateY(180deg);
        }
        
        .flashcard h3 {
            font-size: 2em;
            margin-bottom: 20px;
            color: var(--ocean-mid);
        }
        
        .flashcard p {
            font-size: 1.3em;
            line-height: 1.6;
        }
        
        .card-controls {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
        }
        
        .btn {
            background: var(--ocean-mid);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: var(--ocean-light);
            transform: scale(1.05);
        }
        
        .btn-success {
            background: var(--success);
        }
        
        .btn-success:hover {
            background: #05c296;
        }
        
        .quiz-question {
            background: white;
            color: var(--ocean-deep);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
        }
        
        .quiz-question h3 {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: var(--ocean-mid);
        }
        
        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .quiz-option {
            background: var(--wave-foam);
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .quiz-option:hover {
            background: var(--sand);
            transform: translateX(5px);
        }
        
        .quiz-option.selected {
            border-color: var(--ocean-mid);
            background: var(--ocean-light);
            color: white;
        }
        
        .quiz-option.correct {
            border-color: var(--success);
            background: var(--success);
            color: white;
        }
        
        .quiz-option.incorrect {
            border-color: var(--warning);
            background: var(--warning);
            color: white;
        }
        
        .input-group {
            margin: 15px 0;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .input-group input {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 2px solid var(--wave-foam);
            font-size: 1em;
            font-family: 'Fira Code', monospace;
        }
        
        .score-display {
            background: var(--coral);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .score-display h2 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .matching-game {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .matching-column h3 {
            margin-bottom: 15px;
            color: var(--sand);
        }
        
        .matching-item {
            background: white;
            color: var(--ocean-deep);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }
        
        .matching-item:hover {
            transform: scale(1.03);
        }
        
        .matching-item.selected {
            border-color: var(--coral);
            background: var(--coral);
            color: white;
        }
        
        .matching-item.matched {
            background: var(--success);
            color: white;
            cursor: default;
        }
        
        .progress-bar {
            background: rgba(255, 255, 255, 0.2);
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .progress-fill {
            background: var(--coral);
            height: 100%;
            transition: width 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .hint-box {
            background: rgba(255, 235, 59, 0.2);
            border-left: 4px solid var(--sand);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }
        
        .graph-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .graph-container img {
            max-width: 100%;
            height: auto;
        }
        
        .stats-problem {
            background: white;
            color: var(--ocean-deep);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .stats-problem code {
            background: var(--wave-foam);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Fira Code', monospace;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <h1>üåä Ocean Science Study Hub</h1>
            <p>Master your science test on February 3, 2026!</p>
        </div>
        
        <div class="nav-buttons" id="navButtons">
            <button class="nav-btn active" onclick="showSection('flashcards')">üìö Flashcards</button>
            <button class="nav-btn" onclick="showSection('truefalse')">‚úì‚úó True/False</button>
            <button class="nav-btn" onclick="showSection('matching')">üéØ Matching</button>
            <button class="nav-btn" onclick="showSection('graphs')">üìä Graphs</button>
            <button class="nav-btn" onclick="showSection('statistics')">üìà Statistics</button>
            <button class="nav-btn" onclick="showSection('test')">üéì Practice Test</button>
        </div>
        
        <div class="content-section" id="contentSection">
            <!-- Content will be dynamically loaded here -->
        </div>
    </div>

    <script>
        // Data from the review sheet
        const vocabulary = {
            lesson1: [
                { term: "abyssal plain", definition: "large, flat area of the seafloor that extends across the deepest parts of the ocean basin" },
                { term: "brackish", definition: "describes freshwater mixed with seawater" },
                { term: "manipulate", definition: "to operate by hand or by mechanical means" },
                { term: "photosynthesis", definition: "chemical process that converts light energy, water, and carbon dioxide into sugar" },
                { term: "salinity", definition: "measure of the mass of dissolved solids in a mass of water" },
                { term: "seawater", definition: "has an average salinity of 35 parts per thousand" }
            ],
            lesson2: [
                { term: "neap tide", definition: "occurs when Earth, the Moon, and the Sun form a right angle; has the lowest tidal range" },
                { term: "sea level", definition: "average level of the ocean's surface at any given time" },
                { term: "spring tide", definition: "occurs when Earth, the Moon, and the Sun form a straight line; has the largest tidal range" },
                { term: "tidal range", definition: "difference in water level between a high tide and a low tide" },
                { term: "tide", definition: "periodic rise and fall of the ocean's surface caused by the gravitational force between Earth and the Moon, and Earth and the Sun" },
                { term: "tsunami", definition: "wave that forms when an ocean disturbance suddenly moves a large volume of water" }
            ]
        };

        const trueFalseQuestions = [
            { 
                question: "The five oceans are the Antarctic Ocean, the Pacific Ocean, the Atlantic Ocean, the Indian Ocean, and the Southern Ocean.",
                answer: true,
                explanation: "These are indeed the five major oceans on Earth."
            },
            {
                question: "Salinity is a measure of the mass of dissolved solids in a mass of water.",
                answer: true,
                explanation: "This is the correct definition of salinity."
            },
            {
                question: "A salinity of 35 parts per thousand means that if you measured 1,000 g of seawater, 1,000 g would be water molecules and 35 g would be salts.",
                answer: false,
                explanation: "Actually, 965 g would be water molecules and 35 g would be salts (1000g - 35g = 965g water)."
            },
            {
                question: "The salinity of seawater is not constant.",
                answer: true,
                explanation: "Salinity varies by location due to factors like evaporation, precipitation, and river input."
            },
            {
                question: "Brackish water is polluted water mixed with seawater.",
                answer: false,
                explanation: "Brackish water is freshwater mixed with seawater, not polluted water."
            }
        ];

        const matchingPairs = [
            { term: "E. crest", definition: "1. the highest part of a wave" },
            { term: "H. trough", definition: "2. the lowest part of a wave" },
            { term: "J. wave height", definition: "3. the vertical distance between the crest and the trough" },
            { term: "B. wavelength", definition: "4. the horizontal distance from crest to crest or from trough to trough" },
            { term: "I. surface waves", definition: "5. the currents formed by wind blowing over the surface of water" },
            { term: "K. tsunami", definition: "6. a wave that forms when an ocean disturbance suddenly moves a large volume of water" },
            { term: "F. sea level", definition: "7. the average level of the ocean's surface at any given time" },
            { term: "G. tides", definition: "8. the periodic rise and fall of the ocean's surface caused by the gravitational force between Earth and the Moon and between Earth and the Sun" },
            { term: "A. tidal range", definition: "9. the difference in water level between a high tide and a low tide" },
            { term: "C. spring tide", definition: "10. a tide that has the largest tidal range" },
            { term: "D. neap tide", definition: "11. a tide that has the lowest tidal range" }
        ];

        const graphQuestions = [
            {
                question: "At what depths does the temperature of water differ between polar regions and temperate or tropical regions?",
                answer: "At depths from 0 to about 1,500 meters. In polar regions, water is cold throughout. In temperate/tropical regions, surface water is warm but cools with depth. Below 1,500m, temperatures are similar in all regions."
            },
            {
                question: "What is the approximate temperature of water below a depth of 1,000 m?",
                answer: "Approximately 4¬∞C (or between 2-4¬∞C)"
            },
            {
                question: "At what depths is the salinity of ocean water relatively constant?",
                answer: "Below about 1,000 meters depth (in the deep ocean, polar regions, and temperate/tropical regions)"
            },
            {
                question: "Why does the salinity of surface water in polar regions differ from the salinity of surface water in temperate or tropical regions?",
                answer: "In polar regions, melting ice dilutes the surface water, lowering salinity. In temperate/tropical regions, evaporation exceeds precipitation, increasing salinity. Additionally, polar regions have less evaporation."
            }
        ];

        const statisticsProblems = [
            {
                question: "Over a 48-hour period in a particular location, the high tides were measured at 0.57 m, 0.83 m, 0.62 m, and 0.78 m. What is the range and the mean of the high tides?",
                data: [0.57, 0.83, 0.62, 0.78],
                rangeAnswer: "0.26",
                meanAnswer: "0.70"
            },
            {
                question: "Over a 48-hour period in a particular location, the low tides were measured at 0.052 m, 0.089 m, 0.067 m, and 0.072 m. What is the range and the mean of the low tides?",
                data: [0.052, 0.089, 0.067, 0.072],
                rangeAnswer: "0.037",
                meanAnswer: "0.070"
            },
            {
                question: "Four different samples of water have the following levels of salinity: 15 ppt, 23 ppt, 18 ppt, 20 ppt. What is the range and the mean of the salinity of the samples?",
                data: [15, 23, 18, 20],
                rangeAnswer: "8",
                meanAnswer: "19"
            },
            {
                question: "Five different samples of water have the following levels of salinity: 20 ppt, 21 ppt, 17 ppt, 19 ppt, 20 ppt. What is the range and the mean of the salinity of the samples?",
                data: [20, 21, 17, 19, 20],
                rangeAnswer: "4",
                meanAnswer: "19.4"
            }
        ];

        // State management
        let currentFlashcard = 0;
        let isFlipped = false;
        let currentQuizIndex = 0;
        let quizAnswers = [];
        let testScore = 0;
        let matchingSelected = [];
        let matchedPairs = [];

        // Section management
        function showSection(section) {
            const buttons = document.querySelectorAll('.nav-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const content = document.getElementById('contentSection');
            
            switch(section) {
                case 'flashcards':
                    renderFlashcards();
                    break;
                case 'truefalse':
                    renderTrueFalse();
                    break;
                case 'matching':
                    renderMatching();
                    break;
                case 'graphs':
                    renderGraphs();
                    break;
                case 'statistics':
                    renderStatistics();
                    break;
                case 'test':
                    renderTest();
                    break;
            }
        }

        // Flashcards
        function renderFlashcards() {
            const allCards = [...vocabulary.lesson1, ...vocabulary.lesson2];
            const card = allCards[currentFlashcard];
            
            const content = document.getElementById('contentSection');
            content.innerHTML = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <h2>Vocabulary Flashcards</h2>
                    <p style="opacity: 0.8;">Card ${currentFlashcard + 1} of ${allCards.length}</p>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${((currentFlashcard + 1) / allCards.length) * 100}%"></div>
                </div>
                
                <div class="flashcard ${isFlipped ? 'flipped' : ''}" onclick="flipCard()">
                    <div class="flashcard-front">
                        <h3>Term:</h3>
                        <p>${card.term}</p>
                        <p style="font-size: 0.9em; opacity: 0.6; margin-top: 20px;">Click to reveal definition</p>
                    </div>
                    <div class="flashcard-back">
                        <h3>Definition:</h3>
                        <p>${card.definition}</p>
                        <p style="font-size: 0.9em; opacity: 0.6; margin-top: 20px;">Click to see term</p>
                    </div>
                </div>
                
                <div class="card-controls">
                    <button class="btn" onclick="previousCard()" ${currentFlashcard === 0 ? 'disabled' : ''}>‚Üê Previous</button>
                    <button class="btn" onclick="flipCard()">üîÑ Flip Card</button>
                    <button class="btn" onclick="nextCard()" ${currentFlashcard === allCards.length - 1 ? 'disabled' : ''}>Next ‚Üí</button>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" onclick="resetFlashcards()">üîÑ Restart from Beginning</button>
                </div>
            `;
        }

        function flipCard() {
            isFlipped = !isFlipped;
            renderFlashcards();
        }

        function nextCard() {
            const allCards = [...vocabulary.lesson1, ...vocabulary.lesson2];
            if (currentFlashcard < allCards.length - 1) {
                currentFlashcard++;
                isFlipped = false;
                renderFlashcards();
            }
        }

        function previousCard() {
            if (currentFlashcard > 0) {
                currentFlashcard--;
                isFlipped = false;
                renderFlashcards();
            }
        }
        
        function resetFlashcards() {
            currentFlashcard = 0;
            isFlipped = false;
            renderFlashcards();
        }

        // True/False Quiz
        function renderTrueFalse() {
            const content = document.getElementById('contentSection');
            let html = `
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2>True or False Quiz</h2>
                    <p style="opacity: 0.8;">Test your knowledge!</p>
                </div>
            `;
            
            trueFalseQuestions.forEach((q, index) => {
                const answered = quizAnswers[index] !== undefined;
                const correct = answered && quizAnswers[index] === q.answer;
                
                html += `
                    <div class="quiz-question">
                        <h3>${index + 1}. ${q.question}</h3>
                        <div class="quiz-options">
                            <div class="quiz-option ${answered ? (quizAnswers[index] === true ? (correct ? 'correct' : 'incorrect') : '') : ''}" 
                                 onclick="answerTrueFalse(${index}, true)" 
                                 style="${answered ? 'pointer-events: none;' : ''}">
                                ‚úì True
                            </div>
                            <div class="quiz-option ${answered ? (quizAnswers[index] === false ? (correct ? 'correct' : 'incorrect') : '') : ''}" 
                                 onclick="answerTrueFalse(${index}, false)"
                                 style="${answered ? 'pointer-events: none;' : ''}">
                                ‚úó False
                            </div>
                        </div>
                        ${answered ? `
                            <div class="hint-box">
                                ${correct ? '‚úÖ Correct!' : '‚ùå Incorrect.'} ${q.explanation}
                            </div>
                        ` : ''}
                    </div>
                `;
            });
            
            if (quizAnswers.length === trueFalseQuestions.length) {
                const score = quizAnswers.filter((ans, i) => ans === trueFalseQuestions[i].answer).length;
                html += `
                    <div class="score-display">
                        <h2>Score: ${score}/${trueFalseQuestions.length}</h2>
                        <p>${score === trueFalseQuestions.length ? 'üéâ Perfect Score!' : 'Keep practicing!'}</p>
                        <button class="btn" onclick="resetTrueFalse()" style="margin-top: 15px;">üîÑ Try Again</button>
                    </div>
                `;
            } else {
                html += `
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn" onclick="resetTrueFalse()">üîÑ Reset Quiz</button>
                    </div>
                `;
            }
            
            content.innerHTML = html;
        }

        function answerTrueFalse(index, answer) {
            quizAnswers[index] = answer;
            renderTrueFalse();
        }

        function resetTrueFalse() {
            quizAnswers = [];
            renderTrueFalse();
        }

        // Matching Game
        let shuffledDefinitions = [];
        let matchingAttempts = 0;
        let matchingErrors = 0;
        
        function renderMatching() {
            const content = document.getElementById('contentSection');
            const terms = matchingPairs.map(p => p.term);
            
            // Only shuffle on first render or reset
            if (shuffledDefinitions.length === 0) {
                shuffledDefinitions = [...matchingPairs.map(p => p.definition)].sort(() => Math.random() - 0.5);
            }
            
            let html = `
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2>Matching Game</h2>
                    <p style="opacity: 0.8;">Click a term, then click its matching definition</p>
                    <p style="font-size: 0.9em;">Matched: ${matchedPairs.length}/${matchingPairs.length} | Errors: ${matchingErrors}</p>
                </div>
                
                <div class="hint-box" style="margin-bottom: 20px;">
                    <strong>üìå How to play:</strong> Click on a term (left side), then click on its matching definition (right side). 
                    You'll get instant feedback! ‚úÖ = Correct, ‚ùå = Try again
                </div>
                
                <div class="matching-game">
                    <div class="matching-column">
                        <h3>Terms & Letters</h3>
                        ${terms.map((term, i) => `
                            <div class="matching-item ${matchedPairs.some(m => m.termIndex === i) ? 'matched' : ''} ${matchingSelected[0] === 'term' && matchingSelected[1] === i ? 'selected' : ''}"
                                 onclick="selectMatching('term', ${i})"
                                 style="${matchedPairs.some(m => m.termIndex === i) ? 'pointer-events: none;' : ''}">
                                ${matchedPairs.some(m => m.termIndex === i) ? '‚úÖ ' : ''}${term}
                            </div>
                        `).join('')}
                    </div>
                    <div class="matching-column">
                        <h3>Definitions & Numbers</h3>
                        ${shuffledDefinitions.map((def, i) => `
                            <div class="matching-item ${matchedPairs.some(m => m.defIndex === i) ? 'matched' : ''} ${matchingSelected[0] === 'def' && matchingSelected[1] === i ? 'selected' : ''}"
                                 onclick="selectMatching('def', ${i})"
                                 style="${matchedPairs.some(m => m.defIndex === i) ? 'pointer-events: none;' : ''}">
                                ${matchedPairs.some(m => m.defIndex === i) ? '‚úÖ ' : ''}${def}
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                ${matchedPairs.length === matchingPairs.length ? `
                    <div class="score-display" style="margin-top: 20px;">
                        <h2>üéâ Perfect! All Matched!</h2>
                        <p>Total Attempts: ${matchingAttempts}</p>
                        <p>${matchingErrors === 0 ? 'üèÜ Flawless Victory!' : `Errors: ${matchingErrors}`}</p>
                    </div>
                ` : ''}
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" onclick="resetMatching()">üîÑ Reset Game</button>
                </div>
            `;
            
            content.innerHTML = html;
        }

        function selectMatching(type, index) {
            if (matchingSelected.length === 0) {
                matchingSelected = [type, index];
                renderMatching();
            } else if (matchingSelected[0] === type) {
                matchingSelected = [type, index];
                renderMatching();
            } else {
                // Check if match
                const termIndex = matchingSelected[0] === 'term' ? matchingSelected[1] : index;
                const defIndex = matchingSelected[0] === 'def' ? matchingSelected[1] : index;
                
                const selectedDef = shuffledDefinitions[defIndex];
                matchingAttempts++;
                
                if (matchingPairs[termIndex].definition === selectedDef) {
                    // Correct match!
                    matchedPairs.push({termIndex, defIndex});
                    matchingSelected = [];
                    
                    // Show success feedback
                    const content = document.getElementById('contentSection');
                    const feedback = document.createElement('div');
                    feedback.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--success); color: white; padding: 30px 50px; border-radius: 20px; font-size: 2em; font-weight: bold; z-index: 1000; animation: fadeIn 0.3s ease;';
                    feedback.textContent = '‚úÖ Correct!';
                    document.body.appendChild(feedback);
                    
                    setTimeout(() => {
                        document.body.removeChild(feedback);
                        renderMatching();
                    }, 800);
                } else {
                    // Incorrect match
                    matchingErrors++;
                    
                    // Show error feedback
                    const content = document.getElementById('contentSection');
                    const feedback = document.createElement('div');
                    feedback.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--warning); color: white; padding: 30px 50px; border-radius: 20px; font-size: 2em; font-weight: bold; z-index: 1000; animation: fadeIn 0.3s ease;';
                    feedback.textContent = '‚ùå Try Again!';
                    document.body.appendChild(feedback);
                    
                    setTimeout(() => {
                        document.body.removeChild(feedback);
                        matchingSelected = [];
                        renderMatching();
                    }, 800);
                }
            }
        }

        function resetMatching() {
            matchingSelected = [];
            matchedPairs = [];
            shuffledDefinitions = [];
            matchingAttempts = 0;
            matchingErrors = 0;
            renderMatching();
        }

        // Graphs
        function renderGraphs() {
            const content = document.getElementById('contentSection');
            let html = `
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2>üìä Graph Analysis Questions</h2>
                    <p style="opacity: 0.8;">Answer questions about ocean temperature, salinity, and density</p>
                </div>
                
                <div class="hint-box" style="margin-bottom: 20px;">
                    <strong>üìå Remember:</strong> Temperature decreases with depth. Salinity is relatively constant below 1,000m. Density increases with depth due to pressure.
                </div>
            `;
            
            graphQuestions.forEach((q, index) => {
                html += `
                    <div class="quiz-question" style="margin-bottom: 20px;">
                        <h3>${index + 1}. ${q.question}</h3>
                        <div class="input-group">
                            <textarea id="graph-${index}" 
                                      style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--wave-foam); font-family: 'Poppins', sans-serif; min-height: 80px;"
                                      placeholder="Type your answer here..."></textarea>
                        </div>
                        <button class="btn" onclick="showGraphAnswer(${index})" style="margin-top: 10px;">Show Answer</button>
                        <div id="graph-answer-${index}" style="display: none;" class="hint-box">
                            <strong>‚úì Answer:</strong> ${q.answer}
                        </div>
                    </div>
                `;
            });
            
            html += `
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn" onclick="resetGraphs()">üîÑ Reset All Answers</button>
                </div>
            `;
            
            content.innerHTML = html;
        }

        function showGraphAnswer(index) {
            document.getElementById(`graph-answer-${index}`).style.display = 'block';
        }
        
        function resetGraphs() {
            renderGraphs();
        }

        // Statistics
        function renderStatistics() {
            const content = document.getElementById('contentSection');
            let html = `
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2>üìà Statistics Practice</h2>
                    <p style="opacity: 0.8;">Calculate mean and range</p>
                </div>
                
                <div class="hint-box" style="margin-bottom: 20px;">
                    <strong>üìå Formulas:</strong><br>
                    <code>Range = Largest - Smallest</code><br>
                    <code>Mean = Sum of all values √∑ Number of values</code>
                </div>
            `;
            
            statisticsProblems.forEach((problem, index) => {
                html += `
                    <div class="stats-problem" style="margin-bottom: 20px;">
                        <h3>Problem ${index + 1}</h3>
                        <p>${problem.question}</p>
                        <p><strong>Data:</strong> <code>${problem.data.join(', ')}</code></p>
                        
                        <div class="input-group">
                            <label>Range:</label>
                            <input type="text" id="range-${index}" placeholder="Enter range">
                        </div>
                        
                        <div class="input-group">
                            <label>Mean:</label>
                            <input type="text" id="mean-${index}" placeholder="Enter mean">
                        </div>
                        
                        <button class="btn" onclick="checkStats(${index})" style="margin-top: 10px;">Check Answer</button>
                        <div id="stats-result-${index}" style="margin-top: 10px;"></div>
                    </div>
                `;
            });
            
            html += `
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn" onclick="resetStatistics()">üîÑ Reset All Problems</button>
                </div>
            `;
            
            content.innerHTML = html;
        }

        function checkStats(index) {
            const problem = statisticsProblems[index];
            const rangeInput = document.getElementById(`range-${index}`).value;
            const meanInput = document.getElementById(`mean-${index}`).value;
            
            const rangeCorrect = parseFloat(rangeInput) === parseFloat(problem.rangeAnswer);
            const meanCorrect = parseFloat(meanInput) === parseFloat(problem.meanAnswer);
            
            let result = '<div class="hint-box">';
            result += `<strong>Range:</strong> ${rangeCorrect ? '‚úÖ Correct!' : '‚ùå Incorrect. Answer: ' + problem.rangeAnswer}<br>`;
            result += `<strong>Mean:</strong> ${meanCorrect ? '‚úÖ Correct!' : '‚ùå Incorrect. Answer: ' + problem.meanAnswer}`;
            result += '</div>';
            
            document.getElementById(`stats-result-${index}`).innerHTML = result;
        }
        
        function resetStatistics() {
            renderStatistics();
        }

        // Practice Test - Multiple Choice Version
        const multipleChoiceTest = [
            // True/False converted to multiple choice
            {
                question: "The five oceans are the Antarctic Ocean, the Pacific Ocean, the Atlantic Ocean, the Indian Ocean, and the Southern Ocean.",
                options: ["True", "False"],
                correct: 0,
                explanation: "These are indeed the five major oceans on Earth."
            },
            {
                question: "Salinity is a measure of the mass of dissolved solids in a mass of water.",
                options: ["True", "False"],
                correct: 0,
                explanation: "This is the correct definition of salinity."
            },
            {
                question: "A salinity of 35 parts per thousand means that if you measured 1,000 g of seawater, 1,000 g would be water molecules and 35 g would be salts.",
                options: ["True", "False"],
                correct: 1,
                explanation: "False - Actually, 965 g would be water molecules and 35 g would be salts (1000g - 35g = 965g water)."
            },
            {
                question: "The salinity of seawater is not constant.",
                options: ["True", "False"],
                correct: 0,
                explanation: "True - Salinity varies by location due to factors like evaporation, precipitation, and river input."
            },
            {
                question: "Brackish water is polluted water mixed with seawater.",
                options: ["True", "False"],
                correct: 1,
                explanation: "False - Brackish water is freshwater mixed with seawater, not polluted water."
            },
            
            // Vocabulary questions
            {
                question: "What is the abyssal plain?",
                options: [
                    "A large, flat area of the seafloor that extends across the deepest parts of the ocean basin",
                    "The area where freshwater mixes with seawater",
                    "A type of underwater volcano",
                    "The region where tides are strongest"
                ],
                correct: 0,
                explanation: "The abyssal plain is a large, flat area of the seafloor in the deepest parts of the ocean basin."
            },
            {
                question: "Brackish water describes:",
                options: [
                    "Water that is heavily polluted",
                    "Freshwater mixed with seawater",
                    "Water with no dissolved salts",
                    "Deep ocean water"
                ],
                correct: 1,
                explanation: "Brackish describes freshwater mixed with seawater."
            },
            {
                question: "What is photosynthesis?",
                options: [
                    "The process of water evaporation",
                    "Chemical process that converts light energy, water, and carbon dioxide into sugar",
                    "The movement of ocean currents",
                    "The measure of water salinity"
                ],
                correct: 1,
                explanation: "Photosynthesis is the chemical process that converts light energy, water, and carbon dioxide into sugar."
            },
            {
                question: "Seawater has an average salinity of:",
                options: [
                    "10 parts per thousand",
                    "25 parts per thousand",
                    "35 parts per thousand",
                    "50 parts per thousand"
                ],
                correct: 2,
                explanation: "Seawater has an average salinity of 35 parts per thousand."
            },
            {
                question: "A neap tide:",
                options: [
                    "Has the largest tidal range",
                    "Occurs when Earth, Moon, and Sun form a right angle; has the lowest tidal range",
                    "Only occurs during full moon",
                    "Is caused by earthquakes"
                ],
                correct: 1,
                explanation: "A neap tide occurs when Earth, Moon, and Sun form a right angle and has the lowest tidal range."
            },
            {
                question: "What is sea level?",
                options: [
                    "The depth of the ocean floor",
                    "Average level of the ocean's surface at any given time",
                    "The height of the tallest wave",
                    "The distance between high and low tide"
                ],
                correct: 1,
                explanation: "Sea level is the average level of the ocean's surface at any given time."
            },
            {
                question: "A spring tide:",
                options: [
                    "Only occurs in spring season",
                    "Has the lowest tidal range",
                    "Occurs when Earth, Moon, and Sun form a straight line; has the largest tidal range",
                    "Is caused by underwater springs"
                ],
                correct: 2,
                explanation: "Spring tide occurs when Earth, Moon, and Sun form a straight line and has the largest tidal range."
            },
            {
                question: "What is tidal range?",
                options: [
                    "The speed of tidal movement",
                    "The difference in water level between a high tide and a low tide",
                    "The distance from shore to ocean",
                    "The time between two high tides"
                ],
                correct: 1,
                explanation: "Tidal range is the difference in water level between a high tide and a low tide."
            },
            {
                question: "What is a tsunami?",
                options: [
                    "A very high tide caused by the moon",
                    "Normal ocean waves during a storm",
                    "A wave that forms when an ocean disturbance suddenly moves a large volume of water",
                    "The daily rise and fall of ocean water"
                ],
                correct: 2,
                explanation: "A tsunami is a wave that forms when an ocean disturbance suddenly moves a large volume of water."
            },
            
            // Matching questions
            {
                question: "The highest part of a wave is called:",
                options: ["Crest", "Trough", "Wavelength", "Wave height"],
                correct: 0,
                explanation: "The crest is the highest part of a wave."
            },
            {
                question: "The lowest part of a wave is called:",
                options: ["Crest", "Trough", "Wavelength", "Wave height"],
                correct: 1,
                explanation: "The trough is the lowest part of a wave."
            },
            {
                question: "The vertical distance between the crest and the trough is:",
                options: ["Wavelength", "Wave height", "Tidal range", "Amplitude"],
                correct: 1,
                explanation: "Wave height is the vertical distance between the crest and the trough."
            },
            {
                question: "The horizontal distance from crest to crest or from trough to trough is:",
                options: ["Wave height", "Tidal range", "Wavelength", "Frequency"],
                correct: 2,
                explanation: "Wavelength is the horizontal distance from crest to crest or trough to trough."
            },
            {
                question: "Currents formed by wind blowing over the surface of water are called:",
                options: ["Deep currents", "Surface waves", "Tidal currents", "Rip currents"],
                correct: 1,
                explanation: "Surface waves are currents formed by wind blowing over the surface of water."
            },
            
            // Graph questions
            {
                question: "As depth increases in the ocean, temperature generally:",
                options: [
                    "Increases steadily",
                    "Decreases, with a rapid drop in the thermocline layer",
                    "Stays constant throughout",
                    "Increases then decreases"
                ],
                correct: 1,
                explanation: "Temperature decreases as depth increases, with a rapid drop in the thermocline, then becomes constant in deep water."
            },
            {
                question: "Below what depth is ocean temperature relatively constant at about 4¬∞C?",
                options: ["100 meters", "500 meters", "1,000 meters", "5,000 meters"],
                correct: 2,
                explanation: "Below approximately 1,000 meters, ocean temperature is relatively constant at about 4¬∞C."
            },
            {
                question: "At what depths is salinity relatively constant in the ocean?",
                options: [
                    "At the surface only",
                    "Between 0-500 meters",
                    "Below about 1,000 meters",
                    "Salinity is never constant"
                ],
                correct: 2,
                explanation: "Salinity is relatively constant below about 1,000 meters depth."
            },
            {
                question: "Why does surface water salinity differ between polar and tropical regions?",
                options: [
                    "Polar regions have warmer water",
                    "Melting ice dilutes polar surface water; evaporation increases tropical salinity",
                    "Tropical regions have more ice",
                    "There is no difference in salinity"
                ],
                correct: 1,
                explanation: "In polar regions, melting ice dilutes surface water. In tropical regions, evaporation exceeds precipitation, increasing salinity."
            },
            {
                question: "Temperature differences between polar and tropical ocean regions are most significant at:",
                options: [
                    "All depths equally",
                    "Depths from 0 to about 1,500 meters",
                    "Only at the surface (0-10 meters)",
                    "Only below 3,000 meters"
                ],
                correct: 1,
                explanation: "Temperature differs most between polar and tropical regions from the surface down to about 1,500 meters."
            },
            
            // Statistics questions
            {
                question: "High tides measured at 0.57 m, 0.83 m, 0.62 m, and 0.78 m. What is the range?",
                options: ["0.21 m", "0.26 m", "0.31 m", "0.36 m"],
                correct: 1,
                explanation: "Range = 0.83 - 0.57 = 0.26 m"
            },
            {
                question: "High tides measured at 0.57 m, 0.83 m, 0.62 m, and 0.78 m. What is the mean?",
                options: ["0.65 m", "0.70 m", "0.75 m", "0.80 m"],
                correct: 1,
                explanation: "Mean = (0.57 + 0.83 + 0.62 + 0.78) √∑ 4 = 2.80 √∑ 4 = 0.70 m"
            },
            {
                question: "Low tides measured at 0.052 m, 0.089 m, 0.067 m, and 0.072 m. What is the range?",
                options: ["0.017 m", "0.027 m", "0.037 m", "0.047 m"],
                correct: 2,
                explanation: "Range = 0.089 - 0.052 = 0.037 m"
            },
            {
                question: "Low tides measured at 0.052 m, 0.089 m, 0.067 m, and 0.072 m. What is the mean?",
                options: ["0.060 m", "0.065 m", "0.070 m", "0.075 m"],
                correct: 2,
                explanation: "Mean = (0.052 + 0.089 + 0.067 + 0.072) √∑ 4 = 0.280 √∑ 4 = 0.070 m"
            },
            {
                question: "Water salinity samples: 15 ppt, 23 ppt, 18 ppt, 20 ppt. What is the range?",
                options: ["5 ppt", "8 ppt", "10 ppt", "13 ppt"],
                correct: 1,
                explanation: "Range = 23 - 15 = 8 ppt"
            },
            {
                question: "Water salinity samples: 15 ppt, 23 ppt, 18 ppt, 20 ppt. What is the mean?",
                options: ["17 ppt", "18 ppt", "19 ppt", "20 ppt"],
                correct: 2,
                explanation: "Mean = (15 + 23 + 18 + 20) √∑ 4 = 76 √∑ 4 = 19 ppt"
            },
            {
                question: "Water salinity samples: 20 ppt, 21 ppt, 17 ppt, 19 ppt, 20 ppt. What is the range?",
                options: ["2 ppt", "3 ppt", "4 ppt", "5 ppt"],
                correct: 2,
                explanation: "Range = 21 - 17 = 4 ppt"
            },
            {
                question: "Water salinity samples: 20 ppt, 21 ppt, 17 ppt, 19 ppt, 20 ppt. What is the mean?",
                options: ["18.8 ppt", "19.0 ppt", "19.4 ppt", "19.8 ppt"],
                correct: 2,
                explanation: "Mean = (20 + 21 + 17 + 19 + 20) √∑ 5 = 97 √∑ 5 = 19.4 ppt"
            }
        ];
        
        let testAnswers = [];
        
        function renderTest() {
            const content = document.getElementById('contentSection');
            
            content.innerHTML = `
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2>üéì Comprehensive Practice Test</h2>
                    <p style="opacity: 0.8;">Full multiple-choice test - ${multipleChoiceTest.length} questions</p>
                </div>
                
                <div class="quiz-question">
                    <h3>Test Overview</h3>
                    <p><strong>This comprehensive practice test covers all material from your review sheet:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 15px; line-height: 1.8;">
                        <li>True/False questions (5 questions)</li>
                        <li>Vocabulary definitions (9 questions)</li>
                        <li>Wave and tide concepts (5 questions)</li>
                        <li>Ocean temperature, salinity, and density graphs (5 questions)</li>
                        <li>Statistics: mean and range calculations (8 questions)</li>
                    </ul>
                    
                    <div class="hint-box" style="margin-top: 20px;">
                        <strong>üí° Test Features:</strong>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li><strong>All multiple choice</strong> - completely auto-graded!</li>
                            <li>Read each question carefully</li>
                            <li>Select the best answer for each question</li>
                            <li>You can review your score and see explanations at the end</li>
                        </ul>
                    </div>
                    
                    <div style="text-align: center; margin-top: 30px;">
                        <button class="btn btn-success" onclick="startMultipleChoiceTest()" style="font-size: 1.2em; padding: 15px 40px;">Start Practice Test</button>
                    </div>
                </div>
            `;
        }

        function startMultipleChoiceTest() {
            testAnswers = new Array(multipleChoiceTest.length).fill(null);
            
            const content = document.getElementById('contentSection');
            let html = `
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2>üéì Practice Test</h2>
                    <p style="opacity: 0.8;">Answer all ${multipleChoiceTest.length} questions</p>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="testProgress" style="width: 0%"></div>
                </div>
            `;
            
            multipleChoiceTest.forEach((q, index) => {
                html += `
                    <div class="quiz-question" style="margin-bottom: 20px;">
                        <h3>Question ${index + 1} of ${multipleChoiceTest.length}</h3>
                        <p style="font-size: 1.1em; margin-bottom: 15px;"><strong>${q.question}</strong></p>
                        <div class="quiz-options">
                            ${q.options.map((opt, optIndex) => `
                                <label class="quiz-option" style="cursor: pointer; display: block;">
                                    <input type="radio" 
                                           name="test-q-${index}" 
                                           value="${optIndex}"
                                           onchange="updateTestAnswer(${index}, ${optIndex})"
                                           style="margin-right: 10px;">
                                    ${opt}
                                </label>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            
            html += `
                <div style="text-align: center; margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 15px;">
                    <p style="margin-bottom: 15px;">Answered: <span id="answeredCount">0</span>/${multipleChoiceTest.length}</p>
                    <button class="btn btn-success" onclick="submitMultipleChoiceTest()" style="font-size: 1.2em; padding: 15px 40px;">Submit Test</button>
                </div>
            `;
            
            content.innerHTML = html;
        }

        function updateTestAnswer(questionIndex, answerIndex) {
            testAnswers[questionIndex] = answerIndex;
            
            // Update progress
            const answered = testAnswers.filter(a => a !== null).length;
            document.getElementById('answeredCount').textContent = answered;
            document.getElementById('testProgress').style.width = `${(answered / multipleChoiceTest.length) * 100}%`;
        }

        function submitMultipleChoiceTest() {
            // Check if all questions answered
            const unanswered = testAnswers.filter(a => a === null).length;
            if (unanswered > 0) {
                if (!confirm(`You have ${unanswered} unanswered question(s). Submit anyway?`)) {
                    return;
                }
            }
            
            // Calculate score
            let correct = 0;
            multipleChoiceTest.forEach((q, index) => {
                if (testAnswers[index] === q.correct) {
                    correct++;
                }
            });
            
            const percentage = ((correct / multipleChoiceTest.length) * 100).toFixed(1);
            
            const content = document.getElementById('contentSection');
            let html = `
                <div class="score-display">
                    <h2>Test Complete! üéâ</h2>
                    <h1 style="font-size: 4em; margin: 20px 0;">${correct}/${multipleChoiceTest.length}</h1>
                    <h3>${percentage}%</h3>
                    <p style="margin-top: 20px; font-size: 1.2em;">
                        ${percentage >= 90 ? 'üèÜ Outstanding! You\'re ready for the test!' :
                          percentage >= 80 ? 'üéØ Great job! You\'re well prepared!' :
                          percentage >= 70 ? 'üëç Good work! Review the questions you missed.' :
                          'üìö Keep studying! Review the flashcards and try again.'}
                    </p>
                </div>
                
                <div class="quiz-question">
                    <h3>Review Your Answers</h3>
            `;
            
            multipleChoiceTest.forEach((q, index) => {
                const userAnswer = testAnswers[index];
                const isCorrect = userAnswer === q.correct;
                
                html += `
                    <div style="margin-bottom: 25px; padding: 20px; background: ${isCorrect ? 'rgba(6, 214, 160, 0.1)' : 'rgba(247, 127, 0, 0.1)'}; border-radius: 10px; border-left: 4px solid ${isCorrect ? 'var(--success)' : 'var(--warning)'};">
                        <p style="margin-bottom: 10px;"><strong>Question ${index + 1}:</strong> ${q.question}</p>
                        <p style="margin: 5px 0;">
                            <strong>Your answer:</strong> 
                            ${userAnswer !== null ? q.options[userAnswer] : 'Not answered'}
                            ${isCorrect ? '‚úÖ' : '‚ùå'}
                        </p>
                        ${!isCorrect ? `<p style="margin: 5px 0;"><strong>Correct answer:</strong> ${q.options[q.correct]} ‚úì</p>` : ''}
                        <p style="margin-top: 10px; font-style: italic; opacity: 0.9;">${q.explanation}</p>
                    </div>
                `;
            });
            
            html += `
                </div>
                
                <div style="text-align: center; margin-top: 20px; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                    <button class="btn" onclick="showSection('flashcards')">üìö Review Flashcards</button>
                    <button class="btn" onclick="showSection('statistics')">üìà Practice Statistics</button>
                    <button class="btn" onclick="renderTest()">üîÑ Retake Test</button>
                </div>
            `;
            
            content.innerHTML = html;
        }

        renderFlashcards();
    </script>
</body>
</html>